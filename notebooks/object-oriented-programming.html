
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Object-Oriented Programming &#8212; MulQuaBio</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=01a0bdc2" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/object-oriented-programming';</script>
    <script src="https://cdn.jsdelivr.net/npm/@iframe-resizer/child@latest"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Biological Computing in R" href="r.html" />
    <link rel="prev" title="Biological Computing in Python" href="python.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="MulQuaBio - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="MulQuaBio - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to The Multilingual Quantitative Biologist!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Computing</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part-computing.html">Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="unix.html">UNIX and Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell-scripting.html">Shell scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Version control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">Scientific documents with <span class="math notranslate nohighlight">\(\LaTeX\)</span></a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="python.html">Biological Computing in Python</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Object-Oriented Programming</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="r.html">Biological Computing in R</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Basic Data Analyses and Statistics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part-basic-stats.html">Basic Data Analyses and Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-r.html">Data Management and Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="exp-design.html">Experimental design and Data exploration</a></li>
<li class="toctree-l1"><a class="reference internal" href="t-f-tests.html">Basic hypothesis testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="regress.html">Linear Models: regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="anova.html">Linear Models: Analysis of variance</a></li>
<li class="toctree-l1"><a class="reference internal" href="mul-expl.html">Linear Models: Multiple explanatory variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="mul-expl-inter.html">Linear Models: Multiple variables with interactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="model-simp.html">Model simplification</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced Modelling &amp; Statistics Pre-work</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part-prework.html">Advanced Modelling &amp; Statistics Pre-work</a></li>
<li class="toctree-l1"><a class="reference internal" href="mqb-prework-exercises.html">EnE Modelling and Advanced Data Science Pre-work</a></li>







</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Ecological &amp; Evolutionary Modelling</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part-eemodelling.html">Ecological &amp; Evolutionary Modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="metabolic-basis.html">The Metabolic Basis of Ecology and Evolutionary dynamics</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="populations.html">Single Populations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="populations-practicals.html">Populations: Practicals</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="interactions.html">Species interactions</a></li>


<li class="toctree-l1 has-children"><a class="reference internal" href="consumer-resource-dynamics.html">Consumer-Resource dynamics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="c-r-dynamics-practicals.html">Consumer-Resource Dynamics: Practicals</a></li>




</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced Data Analyses and Statistics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part-advanced-stats.html">Advanced Data Analyses and Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="glms.html">Generalised Linear Models</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nlls.html">Model Fitting using Non-linear Least-squares</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="nlls-python.html">Nonlinear least squares (NLLS) in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="microbial-growth.html">Microbial Growth rates in R</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="mle.html">Model Fitting using Maximum Likelihood</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Assignments and Assessments</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part-assignments.html">Assignments and Assessments</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix-assessment.html">MQB Coursework Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix-mini-proj.html">The Computing Miniproject</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part-appendices.html">Appendices</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendices/tooling.html">Tooling and Environments</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix-jupy-intro.html">Introduction to Jupyter</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix-databases.html">Databases <span class="tocSkip"></span></a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendices/data-python.html">Data Analysis in Python (Optional)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix-data-python.html">Data analyses  with Python &amp; Jupyter</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendices/maths.html">Maths and Quantitative Foundations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix-maths.html">Mathematical models in Jupyter</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix-mathsforbiologists/maths-for-biologists.html">Maths for Biologists</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendices/performance.html">Performance, Scaling, and Compute</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix-high-performance-computing.html">Introduction to High-Performance Computing (HPC)</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/MulQuaBio/MQB/master?urlpath=lab/tree/notebooks/object-oriented-programming.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/MulQuaBio/MQB/blob/master/notebooks/object-oriented-programming.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/MulQuaBio/MQB" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/MulQuaBio/MQB/issues/new?title=Issue%20on%20page%20%2Fnotebooks/object-oriented-programming.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/object-oriented-programming.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Object-Oriented Programming</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-oop">What is OOP?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#our-first-class">Our first <code class="docutils literal notranslate"><span class="pre">class</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rectangles-and-arguments">Rectangles and arguments</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-1">Challenge 1</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-more-useful-example">A more useful example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#properties-and-automatic-calculation">Properties and automatic calculation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-2">Challenge 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#passing-around-objects">Passing around objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oop-in-biology">OOP in biology</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#class-vs-instance-attributes">Class vs Instance Attributes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-3-optional">Challenge 3 (optional)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-building-complex-objects">Composition: Building complex objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-objects">Comparing objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#practical-example-population-simulation">Practical Example: Population Simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-and-next-steps">Summary and Next Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-oop-in-python">Advanced OOP in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dunder-methods">“Dunder” methods</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#making-our-classes-more-usable">Making our classes more usable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#repr"><code class="docutils literal notranslate"><span class="pre">__repr__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#making-an-iterable">Making an iterable</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#making-objects-callable-with-call">Making objects callable with <code class="docutils literal notranslate"><span class="pre">__call__</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#there-s-so-much-more">There’s so much more</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subclassing">Subclassing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-overriding-example">Method overriding example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-exceptions">Custom exceptions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-create-custom-exceptions">When to create custom exceptions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#circular-imports">5. Circular imports</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#not-calling-super-init-in-subclasses">4. Not calling <code class="docutils literal notranslate"><span class="pre">super().__init__()</span></code> in subclasses</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mutable-default-arguments">3. Mutable default arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modifying-class-attributes-when-you-meant-instance-attributes">2. Modifying class attributes when you meant instance attributes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forgetting-self">1. Forgetting <code class="docutils literal notranslate"><span class="pre">self</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-pitfalls">Common Pitfalls</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modern-python-dataclasses">Modern Python: dataclasses</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="tip admonition">
<p class="admonition-title">Learning Goals</p>
<p>By the end of this notebook, you will be able to:</p>
<ul class="simple">
<li><p>Define classes with attributes and methods</p></li>
<li><p>Instantiate objects and manipulate their properties</p></li>
<li><p>Use special methods (<code class="docutils literal notranslate"><span class="pre">__init__</span></code>, <code class="docutils literal notranslate"><span class="pre">__str__</span></code>, <code class="docutils literal notranslate"><span class="pre">__repr__</span></code>) to customize class behavior</p></li>
<li><p>Understand the difference between class and instance attributes</p></li>
<li><p>Implement inheritance and create subclasses</p></li>
<li><p>Use composition to build complex objects from simpler ones</p></li>
<li><p>Apply OOP principles to structure biological data and simulations</p></li>
</ul>
</div>
<div class="note admonition">
<p class="admonition-title">Prerequisites</p>
<p>This notebook assumes you are comfortable with:</p>
<ul class="simple">
<li><p>Python functions and arguments</p></li>
<li><p>Variables, lists, and dictionaries</p></li>
<li><p>Basic control flow (if/else, loops)</p></li>
</ul>
</div>
<div class="note admonition">
<p class="admonition-title">Where this fits</p>
<p>This chapter extends the foundational Python concepts from the main <a class="reference internal" href="python.html"><span class="std std-doc">Python chapter</span></a>. You should be comfortable with Python functions, variables, lists, and dictionaries before diving into object-oriented programming.</p>
<p><strong>Prerequisites</strong>: Basic Python (functions, control flow, data structures)</p>
<p><strong>What comes next</strong>: You’ll use OOP concepts when building simulations, organizing complex data structures, and developing reusable code for your analyses and models throughout the course.</p>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="object-oriented-programming">
<h1>Object-Oriented Programming<a class="headerlink" href="#object-oriented-programming" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>After you have been coding for a little bit of time, you may come across some people talking about <strong>object-oriented programming</strong> or <strong>OOP</strong> for short. This could be accompanied by scary words like “inheritance”, “overloading”, and “children” too. But never fear, for not only is OOP a useful coding paradigm, but it is also incredibly easy to implement in Python.</p>
<p>Object-oriented programming is particularly valuable in scientific computing because it allows you to model real-world entities—organisms, experimental samples, ecological sites—as self-contained units with their own properties and behaviors. This makes your code more intuitive, easier to maintain, and better reflects the structure of biological systems.</p>
</section>
<section id="what-is-oop">
<h2>What is OOP?<a class="headerlink" href="#what-is-oop" title="Link to this heading">#</a></h2>
<p>Put simply, object-oriented programming is a way of thinking about programming outside of the classic “run this function on this variable” style. Instead we can think of the data we are considering as an <strong>object</strong>.</p>
<p>This object could have properties and things that the object can do. In Python we refer to an object as a <code class="docutils literal notranslate"><span class="pre">class</span></code>, with the properties called <code class="docutils literal notranslate"><span class="pre">attributes</span></code> and the things it can do referred to as <code class="docutils literal notranslate"><span class="pre">methods</span></code>.</p>
<p>You can think of a <code class="docutils literal notranslate"><span class="pre">class</span></code> as a template for an object, so if you consider the thing you are sitting on, it is a chair. More specifically it is <em>that particular chair you are sitting on</em>. In that vein, you are sitting on an <em>instance</em> of class <code class="docutils literal notranslate"><span class="pre">chair</span></code>.</p>
<p>Other people will have different instances of class <code class="docutils literal notranslate"><span class="pre">chair</span></code>, and each instance is unique, with its own property values. If you cut the leg off your chair, it does not remove a leg from everybody else’s chair, just decreases the leg count of your chair by 1.</p>
<p><strong>Why is this useful in biology?</strong> Imagine you’re studying a population of organisms. Each organism is an instance of a <code class="docutils literal notranslate"><span class="pre">Species</span></code> class, with attributes like <code class="docutils literal notranslate"><span class="pre">body_mass</span></code>, <code class="docutils literal notranslate"><span class="pre">age</span></code>, and <code class="docutils literal notranslate"><span class="pre">location</span></code>, and methods like <code class="docutils literal notranslate"><span class="pre">grow()</span></code>, <code class="docutils literal notranslate"><span class="pre">reproduce()</span></code>, or <code class="docutils literal notranslate"><span class="pre">move()</span></code>. Instead of managing parallel lists of masses, ages, and locations (and keeping them synchronized), you bundle all the data for each organism together. This makes your code clearer, less error-prone, and more closely mirrors how we think about biological systems.</p>
<p>If that all sounds a bit abstract, don’t worry. It is. But the vocabulary above will be used throughout and should help you grasp the concepts as we go.</p>
</section>
<section id="our-first-class">
<h2>Our first <code class="docutils literal notranslate"><span class="pre">class</span></code><a class="headerlink" href="#our-first-class" title="Link to this heading">#</a></h2>
<p>Let’s build our first class. First open a new file called <code class="docutils literal notranslate"><span class="pre">OOP.py</span></code>.</p>
<p>To make a class in Python we use the <code class="docutils literal notranslate"><span class="pre">class</span></code> keyword.</p>
<p>To define a method of a class, you simply make a function within the class definition, but it does need a special argument called <code class="docutils literal notranslate"><span class="pre">self</span></code>. We will come to why that is in a little bit.</p>
<p>To define attributes of a class we assign values to <code class="docutils literal notranslate"><span class="pre">self.x</span></code> for any given attribute <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>Defining a class is not good enough on its own though. We also need to define a method of the class called <code class="docutils literal notranslate"><span class="pre">__init__()</span></code>. This method is run when you create an instance of a class, and generates the properties of the <em>instance</em>.</p>
<p>Here is the skeleton for creating our first class, the class for a square:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">square</span><span class="p">:</span>                   <span class="c1"># Create class &quot;square&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>         <span class="c1"># Define init method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">side_length</span> <span class="o">=</span> <span class="mi">2</span>    <span class="c1"># Set side_length to the value 2</span>
</pre></div>
</div>
</div>
</div>
<p>Now we have created our class, we can make an instance of the class <code class="docutils literal notranslate"><span class="pre">square</span></code>. Let’s call that <code class="docutils literal notranslate"><span class="pre">square1</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">square1</span> <span class="o">=</span> <span class="n">square</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>So now we have the instance assigned to the name <code class="docutils literal notranslate"><span class="pre">square1</span></code>, we can check that attribute <code class="docutils literal notranslate"><span class="pre">side_length</span></code> by writing <code class="docutils literal notranslate"><span class="pre">square1.side_length</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">square1</span><span class="o">.</span><span class="n">side_length</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<p>We can manipulate this attribute directly if we want like a normal variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">square1</span><span class="o">.</span><span class="n">side_length</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">square1</span><span class="o">.</span><span class="n">side_length</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>In fact it is like a normal variable in every way except that it is encapsulated in this class.</p>
<p>Notice how we cannot access attributes which are not there…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">square1</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">square1</span><span class="o">.</span><span class="n">area</span>

<span class="ne">AttributeError</span>: &#39;square&#39; object has no attribute &#39;area&#39;
</pre></div>
</div>
</div>
</div>
<p>However we can assign into attributes that were not made when the instance was first defined.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">square1</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">square1</span><span class="o">.</span><span class="n">side_length</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">square1</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>16
</pre></div>
</div>
</div>
</div>
</section>
<section id="rectangles-and-arguments">
<h2>Rectangles and arguments<a class="headerlink" href="#rectangles-and-arguments" title="Link to this heading">#</a></h2>
<p>Now let’s define a slightly more complicated class for a rectangle. This rectangle can be of arbitrary dimensions <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>. These dimensions will be specified when creating an instance of the object (also known as <em>instantiating</em> the object).</p>
<p>To handle this, we need to add a few arguments to the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">rectangle</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>    <span class="c1"># x and y are arguments of the init method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s create a 4x3 rectangle:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rectangle1</span> <span class="o">=</span> <span class="n">rectangle</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">rectangle1</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rectangle1</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<p>Now to find the area, we can just calculate it outside the instance, and assign it to a new attribute as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rectangle1</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">rectangle1</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">rectangle1</span><span class="o">.</span><span class="n">y</span>
<span class="n">rectangle1</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>12
</pre></div>
</div>
</div>
</div>
<p>But this is an operation we might want to do to each rectangle. So what do we do when something is repeatedly needed? We turn it into a function. Specifically here we are going to make a <code class="docutils literal notranslate"><span class="pre">method</span></code> of the object.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">method</span></code> is special in that it takes the argument <code class="docutils literal notranslate"><span class="pre">self</span></code> as its first argument. This value <code class="docutils literal notranslate"><span class="pre">self</span></code> refers to the instance that the method belongs to.</p>
<p>So let’s define a method to calculate the area of an object of class rectangle:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">rectangle</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="mi">0</span>     <span class="c1"># It is usually safest to create the attribute first with a dummy value.</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">calc_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<p>So now we can instantiate the new rectangle as before, and then use the method to calculate the area automatically by calling <code class="docutils literal notranslate"><span class="pre">rectangle.calc_area()</span></code>. The brackets here are important as remember <code class="docutils literal notranslate"><span class="pre">calc_area()</span></code> is basically just a <em>function</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rectangle2</span> <span class="o">=</span> <span class="n">rectangle</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">rectangle2</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>Oops, we forgot to run <code class="docutils literal notranslate"><span class="pre">calc_area()</span></code>, so the area value is just the default we set. Let’s change that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rectangle2</span><span class="o">.</span><span class="n">calc_area</span><span class="p">()</span>
<span class="n">rectangle2</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>12
</pre></div>
</div>
</div>
</div>
<p>Perfect. But that was annoying. We know what the area will be once we instantiate the rectangle with values for the sides, so is there some way to save some time?</p>
<p>As a little trick, we can call other methods in the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method to make them run as soon as we instantiate the object, like so:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">rectangle</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc_area</span><span class="p">()</span>     <span class="c1"># run the method calc_area() of the object immediately</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">calc_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rectangle3</span> <span class="o">=</span> <span class="n">rectangle</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">rectangle3</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>12
</pre></div>
</div>
</div>
</div>
<section id="challenge-1">
<h3>Challenge 1<a class="headerlink" href="#challenge-1" title="Link to this heading">#</a></h3>
<p>Make a class <code class="docutils literal notranslate"><span class="pre">circle</span></code> that takes the radius of a circle as an argument at instantiation, and calculates its area and circumference automatically.</p>
<p><strong>Extension</strong>: Add a method <code class="docutils literal notranslate"><span class="pre">is_larger_than(other_circle)</span></code> that returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if this circle is larger than another circle (compare by area).</p>
</section>
</section>
<section id="a-more-useful-example">
<h2>A more useful example<a class="headerlink" href="#a-more-useful-example" title="Link to this heading">#</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> for:</p>
<ul class="simple">
<li><p>Computed values that depend on other attributes (area, BMI, ratios)</p></li>
<li><p>Values that should always be current (no risk of forgetting to update)</p></li>
<li><p>Read-only attributes that shouldn’t be directly modified</p></li>
</ul>
<p>Avoid <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> for:</p>
<ul class="simple">
<li><p>Expensive computations you don’t want to repeat</p></li>
<li><p>Operations with side effects (use a regular method instead)</p></li>
</ul>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New area: </span><span class="si">{</span><span class="n">rect</span><span class="o">.</span><span class="n">area</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Automatically recalculated!</span>
</pre></div>
</div>
</div>
</div>
<p>The magic: if we change the dimensions, the area updates automatically:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rect</span> <span class="o">=</span> <span class="n">rectangle</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Area: </span><span class="si">{</span><span class="n">rect</span><span class="o">.</span><span class="n">area</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Note: no parentheses!</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Perimeter: </span><span class="si">{</span><span class="n">rect</span><span class="o">.</span><span class="n">perimeter</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">rectangle</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Area is computed on-the-fly whenever accessed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">perimeter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="properties-and-automatic-calculation">
<h2>Properties and automatic calculation<a class="headerlink" href="#properties-and-automatic-calculation" title="Link to this heading">#</a></h2>
<p>So far we’ve been manually calling methods like <code class="docutils literal notranslate"><span class="pre">calc_area()</span></code> to update attributes. Python provides a more elegant solution: <strong>property decorators</strong>. These allow you to define methods that behave like attributes, automatically computing values when accessed.</p>
<p>To understand OOP, it is useful to have a more concrete example to work with, so let us think about chairs.</p>
<p>Here’s a chair class:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">chair</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legs</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">colour</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">legs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">colour</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newcolour</span><span class="p">):</span>    <span class="c1"># A new method! Notice how it can take extra arguments aside from self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">newcolour</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">chair1</span></code> is a very typical chair with 4 legs, is 0.8m tall, and is coloured green.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chair1</span> <span class="o">=</span> <span class="n">chair</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="n">chair1</span><span class="o">.</span><span class="n">legs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chair1</span><span class="o">.</span><span class="n">height</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chair1</span><span class="o">.</span><span class="n">colour</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;green&#39;
</pre></div>
</div>
</div>
</div>
<p>Now let’s use the <code class="docutils literal notranslate"><span class="pre">paint()</span></code> method of the chair class to repaint the chair a different colour</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chair1</span><span class="o">.</span><span class="n">paint</span><span class="p">(</span><span class="s2">&quot;purple&quot;</span><span class="p">)</span>
<span class="n">chair1</span><span class="o">.</span><span class="n">colour</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;purple&#39;
</pre></div>
</div>
</div>
</div>
<section id="challenge-2">
<h3>Challenge 2<a class="headerlink" href="#challenge-2" title="Link to this heading">#</a></h3>
<p>Modify the chair class to make the height adjustable by certain amounts using the <code class="docutils literal notranslate"><span class="pre">raise_chair(amount)</span></code> and <code class="docutils literal notranslate"><span class="pre">lower_chair(amount)</span></code> methods.</p>
<p><strong>Important considerations:</strong></p>
<ul class="simple">
<li><p>Heights below 0.2m or above 2.0m are unreasonable</p></li>
<li><p>Check that the new height is within bounds before changing it</p></li>
<li><p>If the change would exceed bounds, either raise an error or set to the boundary value</p></li>
</ul>
<p><strong>Extension</strong>: Add a <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> method that reports whether the chair is currently “too low”, “comfortable”, or “too high” based on ergonomic ranges (0.4-0.5m).</p>
</section>
</section>
<section id="passing-around-objects">
<h2>Passing around objects<a class="headerlink" href="#passing-around-objects" title="Link to this heading">#</a></h2>
<p>An object can be passed around just like any other data. You can pack it into lists, put it in dictionaries, even pass it into functions.</p>
<p>Let’s create a function that works on chair objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">saw_leg</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">legs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>   <span class="c1"># A chair cannot have fewer than 0 legs</span>
        <span class="n">c</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">legs</span> <span class="o">-</span> <span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="n">chair1</span><span class="o">.</span><span class="n">legs</span><span class="p">)</span>

<span class="n">saw_leg</span><span class="p">(</span><span class="n">chair1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">chair1</span><span class="o">.</span><span class="n">legs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
3
</pre></div>
</div>
</div>
</div>
<p>Notice how even though we didn’t return the chair object at the end of the function, it <em>still</em> affected the chair object.</p>
<p><strong>This is something to be very careful of!</strong></p>
<p>In Python, objects are passed <strong>by reference</strong>, meaning the function receives a reference to the same object in memory, not a copy. Changes made inside the function affect the original object. This is different from simple types like integers or strings, which are immutable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># Compare: immutable vs mutableIn general it is good practice when working with functions that manipulate objects to return the object at the end. This makes the function&#39;s side effects explicit and behaves as expected—predictability is what we should always be striving for when programming.</span>

<span class="k">def</span><span class="w"> </span><span class="nf">change_number</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="err">```</span>

    <span class="k">return</span> <span class="n">xprint</span><span class="p">(</span><span class="n">chair1</span><span class="o">.</span><span class="n">legs</span><span class="p">)</span>  <span class="c1"># Now 3 - objects are mutable!</span>

<span class="n">change_object</span><span class="p">(</span><span class="n">chair1</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">change_object</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span><span class="n">chair1</span> <span class="o">=</span> <span class="n">chair</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">)</span>

    <span class="n">obj</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">legs</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># Modifies the original!</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># Still 5 - integers are immutable</span>

<span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="n">change_number</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">saw_leg</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">legs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">c</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">legs</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">c</span>

<span class="n">chair1</span> <span class="o">=</span> <span class="n">saw_leg</span><span class="p">(</span><span class="n">chair1</span><span class="p">)</span>
<span class="n">chair1</span><span class="o">.</span><span class="n">legs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<p>As stated above we could make a list of chairs too.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="n">chair_stack</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="c1"># Make 10 green chairs with random numbers of legs and random heights</span>
    <span class="n">chair_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chair</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">))</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">chair_stack</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">legs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7
1
10
6
1
1
10
8
2
4
</pre></div>
</div>
</div>
</div>
<p>We can manipulate this as we would a list of any other thing. Here’s a list comprehension that saws a leg off each chair if we can.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chair_stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">saw_leg</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">chair_stack</span><span class="p">]</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">chair_stack</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">legs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
0
9
5
0
0
9
7
1
3
</pre></div>
</div>
</div>
</div>
</section>
<section id="oop-in-biology">
<h2>OOP in biology<a class="headerlink" href="#oop-in-biology" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Common pitfall</strong>: Mutable class attributes!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Species</span><span class="p">:</span>
    <span class="n">individuals</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># DANGER! Shared by ALL instances</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">Species</span><span class="o">.</span><span class="n">individuals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># All species share same list!</span>
</pre></div>
</div>
</div>
<p>If you need a list/dict per instance, initialize it in <code class="docutils literal notranslate"><span class="pre">__init__</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Species</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Each instance gets its own list</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Organism</span><span class="p">:</span>
    <span class="c1"># Class attributes - shared by all instances</span>
    <span class="n">kingdom</span> <span class="o">=</span> <span class="s2">&quot;Animalia&quot;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Track how many organisms we&#39;ve created</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">):</span>
        <span class="c1"># Instance attributes - unique to each instance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">species</span> <span class="o">=</span> <span class="n">species</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span>
        <span class="n">Organism</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># Increment class attribute</span>
        
<span class="n">org1</span> <span class="o">=</span> <span class="n">Organism</span><span class="p">(</span><span class="s2">&quot;Homo sapiens&quot;</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="n">org2</span> <span class="o">=</span> <span class="n">Organism</span><span class="p">(</span><span class="s2">&quot;Canis familiaris&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kingdom (shared): </span><span class="si">{</span><span class="n">org1</span><span class="o">.</span><span class="n">kingdom</span><span class="si">}</span><span class="s2"> == </span><span class="si">{</span><span class="n">org2</span><span class="o">.</span><span class="n">kingdom</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Species (unique): </span><span class="si">{</span><span class="n">org1</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="n">org2</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total organisms created: </span><span class="si">{</span><span class="n">Organism</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="class-vs-instance-attributes">
<h2>Class vs Instance Attributes<a class="headerlink" href="#class-vs-instance-attributes" title="Link to this heading">#</a></h2>
<p>So far, all our attributes have been <strong>instance attributes</strong>—each instance has its own copy. But sometimes you want attributes shared by <em>all</em> instances of a class. These are <strong>class attributes</strong>.</p>
<p>In biology, our data are often comprised of samples of individuals. If we know the attributes of the individuals that we are measuring, we can write a class that will handle each individual as a seperate instance.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">pi</span>

<span class="k">class</span><span class="w"> </span><span class="nc">spider</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a spider with web architecture measurements.</span>
<span class="sd">    </span>
<span class="sd">    The capture area is the effective web area available for prey interception,</span>
<span class="sd">    calculated as the elliptical web area minus the hub (where the spider sits).</span>
<span class="sd">    This is an important functional trait for understanding foraging efficiency.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body_weight</span><span class="p">,</span> <span class="n">web_diameter_horizontal</span><span class="p">,</span> <span class="n">web_diameter_vertical</span><span class="p">,</span> <span class="n">hub_diameter</span><span class="p">,</span> <span class="n">mesh_width</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bw</span> <span class="o">=</span> <span class="n">body_weight</span>  <span class="c1"># mg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dh</span> <span class="o">=</span> <span class="n">web_diameter_horizontal</span>  <span class="c1"># cm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dv</span> <span class="o">=</span> <span class="n">web_diameter_vertical</span>  <span class="c1"># cm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">hub_diameter</span>  <span class="c1"># cm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mw</span> <span class="o">=</span> <span class="n">mesh_width</span>  <span class="c1"># cm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc_ca</span><span class="p">()</span>
    

    <span class="k">def</span><span class="w"> </span><span class="nf">calc_ca</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Capture area: </span><span class="si">{</span><span class="n">spidey1</span><span class="o">.</span><span class="n">ca</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> cm²&quot;</span><span class="p">)</span>

        <span class="c1"># Calculate capture area using Ellipse-Hub formulaspidey1 = spider(1, 10, 8, 3, 1.4)</span>

        <span class="c1"># Assumes elliptical web shape with circular hub        </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ca</span> <span class="o">=</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">dv</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dh</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span> <span class="o">-</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>58.119464091411174
</pre></div>
</div>
</div>
</div>
<p>As we’re building a project, it can be useful to have a defined data structure that is easy to access and interrogate. This is where using custom classes really shines. Why have to do something like <code class="docutils literal notranslate"><span class="pre">data[14][2]</span> <span class="pre">*</span> <span class="pre">data[14][3]</span></code> when you can say <code class="docutils literal notranslate"><span class="pre">spider.dh</span> <span class="pre">*</span> <span class="pre">spider.dv</span></code>? It’s easier to understand, easier to manage, and easier to work with overall.</p>
<p>Notice how the class definition serves as documentation—we can see at a glance what measurements are needed and what they represent. This self-documenting aspect of OOP is particularly valuable in scientific code.</p>
<section id="challenge-3-optional">
<h3>Challenge 3 (optional)<a class="headerlink" href="#challenge-3-optional" title="Link to this heading">#</a></h3>
<p>Create a <code class="docutils literal notranslate"><span class="pre">Tree</span></code> class that stores tree height, diameter, and species. Add methods to:</p>
<ul class="simple">
<li><p>Calculate approximate volume (assuming a cylindrical trunk)Bonus: Create a <code class="docutils literal notranslate"><span class="pre">Forest</span></code> class that contains multiple trees and can calculate total biomass.</p></li>
<li><p>Compare two trees by size</p></li>
<li><p>Represent the tree as a string showing its key measurements</p></li>
</ul>
<p>This design is more flexible than making <code class="docutils literal notranslate"><span class="pre">temperature</span></code> and <code class="docutils literal notranslate"><span class="pre">pH</span></code> separate attributes. You can add any number of measurements without modifying the class structure. This is especially useful for scientific data where you might measure different variables across experiments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Measurement</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single measurement with units.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">unit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">variable_name</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ExperimentalUnit</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents one replicate in an experiment.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit_id</span><span class="p">,</span> <span class="n">treatment</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">unit_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">treatment</span> <span class="o">=</span> <span class="n">treatment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">measurements</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Composition: unit HAS measurements</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">add_measurement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">measurement</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">measurements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">measurement</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">meas_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">measurements</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Unit </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">treatment</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">meas_str</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Create experimental units</span>
<span class="n">unit1</span> <span class="o">=</span> <span class="n">ExperimentalUnit</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="s2">&quot;control&quot;</span><span class="p">)</span>
<span class="n">unit1</span><span class="o">.</span><span class="n">add_measurement</span><span class="p">(</span><span class="n">Measurement</span><span class="p">(</span><span class="mf">23.5</span><span class="p">,</span> <span class="s2">&quot;°C&quot;</span><span class="p">,</span> <span class="s2">&quot;temperature&quot;</span><span class="p">))</span>
<span class="n">unit1</span><span class="o">.</span><span class="n">add_measurement</span><span class="p">(</span><span class="n">Measurement</span><span class="p">(</span><span class="mf">7.2</span><span class="p">,</span> <span class="s2">&quot;pH&quot;</span><span class="p">,</span> <span class="s2">&quot;acidity&quot;</span><span class="p">))</span>

<span class="n">unit2</span> <span class="o">=</span> <span class="n">ExperimentalUnit</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="s2">&quot;treatment&quot;</span><span class="p">)</span>
<span class="n">unit2</span><span class="o">.</span><span class="n">add_measurement</span><span class="p">(</span><span class="n">Measurement</span><span class="p">(</span><span class="mf">28.1</span><span class="p">,</span> <span class="s2">&quot;°C&quot;</span><span class="p">,</span> <span class="s2">&quot;temperature&quot;</span><span class="p">))</span>
<span class="n">unit2</span><span class="o">.</span><span class="n">add_measurement</span><span class="p">(</span><span class="n">Measurement</span><span class="p">(</span><span class="mf">6.8</span><span class="p">,</span> <span class="s2">&quot;pH&quot;</span><span class="p">,</span> <span class="s2">&quot;acidity&quot;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">unit1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">unit2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="composition-building-complex-objects">
<h2>Composition: Building complex objects<a class="headerlink" href="#composition-building-complex-objects" title="Link to this heading">#</a></h2>
<p><strong>Inheritance</strong> (is-a): A dog <em>is a</em> mammal. <strong>Composition</strong> (has-a): A forest <em>has</em> trees.</p>
<p>Composition is often more flexible than inheritance. Instead of creating deep inheritance hierarchies, you build complex objects from simpler ones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">organisms</span> <span class="o">=</span> <span class="p">[</span><span class="n">dog</span><span class="p">,</span> <span class="n">mouse</span><span class="p">,</span> <span class="n">cat</span><span class="p">]</span>
<span class="n">sorted_orgs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">organisms</span><span class="p">)</span>
<span class="k">for</span> <span class="n">org</span> <span class="ow">in</span> <span class="n">sorted_orgs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">org</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Once you define <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> and <code class="docutils literal notranslate"><span class="pre">__lt__</span></code>, Python automatically provides <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>. You can also sort lists of objects:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Organism</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">species</span> <span class="o">=</span> <span class="n">species</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if two organisms are equal (same species and mass).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">species</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">species</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">mass</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if this organism is smaller than another (by mass).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">mass</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mass</span><span class="si">}</span><span class="s2">kg)&quot;</span>

<span class="n">mouse</span> <span class="o">=</span> <span class="n">Organism</span><span class="p">(</span><span class="s2">&quot;Mus musculus&quot;</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">cat</span> <span class="o">=</span> <span class="n">Organism</span><span class="p">(</span><span class="s2">&quot;Felis catus&quot;</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">)</span>
<span class="n">dog</span> <span class="o">=</span> <span class="n">Organism</span><span class="p">(</span><span class="s2">&quot;Canis familiaris&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mouse</span><span class="si">}</span><span class="s2"> &lt; </span><span class="si">{</span><span class="n">cat</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">mouse</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">cat</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dog</span><span class="si">}</span><span class="s2"> &lt; </span><span class="si">{</span><span class="n">cat</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">dog</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">cat</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="comparing-objects">
<h2>Comparing objects<a class="headerlink" href="#comparing-objects" title="Link to this heading">#</a></h2>
<p>Often we want to compare objects—which organism is larger? Which treatment had better results? Python provides special methods for comparisons.</p>
</section>
<section id="practical-example-population-simulation">
<h2>Practical Example: Population Simulation<a class="headerlink" href="#practical-example-population-simulation" title="Link to this heading">#</a></h2>
<p>Let’s put it all together with a realistic biological simulation that uses multiple OOP concepts.</p>
</section>
<section id="summary-and-next-steps">
<h2>Summary and Next Steps<a class="headerlink" href="#summary-and-next-steps" title="Link to this heading">#</a></h2>
<p>You’ve learned how to:</p>
<ul class="simple">
<li><p>Define classes with attributes and methods</p></li>
<li><p>Use special methods (<code class="docutils literal notranslate"><span class="pre">__init__</span></code>, <code class="docutils literal notranslate"><span class="pre">__str__</span></code>, <code class="docutils literal notranslate"><span class="pre">__repr__</span></code>, <code class="docutils literal notranslate"><span class="pre">__eq__</span></code>, <code class="docutils literal notranslate"><span class="pre">__lt__</span></code>, <code class="docutils literal notranslate"><span class="pre">__call__</span></code>)</p></li>
<li><p>Create properties with <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code></p></li>
<li><p>Distinguish class vs instance attributes</p></li>
<li><p>Build complex objects through composition</p></li>
<li><p>Use inheritance to create specialized classes</p></li>
<li><p>Create custom exceptions</p></li>
<li><p>Avoid common OOP pitfalls</p></li>
</ul>
<p><strong>When to use OOP:</strong></p>
<ul class="simple">
<li><p>You have data with associated behaviors (organisms with methods like <code class="docutils literal notranslate"><span class="pre">grow()</span></code>, <code class="docutils literal notranslate"><span class="pre">reproduce()</span></code>)</p></li>
<li><p>Multiple instances of similar entities (samples, sites, individuals)</p></li>
<li><p>Complex systems that benefit from modular design</p></li>
<li><p>Building reusable code/packages</p></li>
</ul>
<p><strong>When NOT to use OOP:</strong></p>
<ul class="simple">
<li><p>Simple scripts with no repeated structure</p></li>
<li><p>Pure data analysis pipelines (pandas DataFrames often better)</p></li>
<li><p>When functions alone are clearer</p></li>
</ul>
<p><strong>Further learning:</strong></p>
<ul class="simple">
<li><p>Abstract base classes (<code class="docutils literal notranslate"><span class="pre">abc</span></code> module)</p></li>
<li><p>Multiple inheritance and method resolution order (MRO)</p></li>
<li><p>Properties with setters and deleters</p></li>
<li><p>Class methods (<code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code>) and static methods (<code class="docutils literal notranslate"><span class="pre">&#64;staticmethod</span></code>)</p></li>
<li><p>Type hints with classes</p></li>
<li><p>Design patterns (Factory, Singleton, Observer, etc.)</p></li>
</ul>
<p>The best way to learn OOP is to use it. Start small: next time you have parallel lists or dictionaries with related data, try making a class instead!</p>
<p>This example demonstrates:</p>
<ul class="simple">
<li><p><strong>Composition</strong>: <code class="docutils literal notranslate"><span class="pre">Population</span></code> contains <code class="docutils literal notranslate"><span class="pre">Individual</span></code> objects</p></li>
<li><p><strong>Class attributes</strong>: <code class="docutils literal notranslate"><span class="pre">next_id</span></code> shared across all individuals</p></li>
<li><p><strong>Properties</strong>: <code class="docutils literal notranslate"><span class="pre">size</span></code> and <code class="docutils literal notranslate"><span class="pre">total_biomass</span></code> computed on-the-fly</p></li>
<li><p><strong>Encapsulation</strong>: Population logic is contained within the class</p></li>
<li><p><strong>Clear structure</strong>: Each class has a single, well-defined responsibility</p></li>
</ul>
<p>You could easily extend this to:</p>
<ul class="simple">
<li><p>Add genetics (traits, inheritance)</p></li>
<li><p>Model spatial structure (territories, migration)</p></li>
<li><p>Track population statistics over time</p></li>
<li><p>Add multiple interacting species (predator-prey)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Individual</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents one organism in a population.&quot;&quot;&quot;</span>
    <span class="n">next_id</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Class attribute to assign unique IDs</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">Individual</span><span class="o">.</span><span class="n">next_id</span>
        <span class="n">Individual</span><span class="o">.</span><span class="n">next_id</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alive</span> <span class="o">=</span> <span class="kc">True</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">food_available</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Organisms grow if food is available.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">food_available</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">age_one_year</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Age and check for mortality.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1"># Simple mortality: probability increases with age</span>
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">*</span> <span class="mf">0.05</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alive</span> <span class="o">=</span> <span class="kc">False</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;alive&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alive</span> <span class="k">else</span> <span class="s2">&quot;dead&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Individual </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mass</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">kg, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="si">}</span><span class="s2">y (</span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">)&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Population</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manages a collection of individuals.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">initial_size</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">species</span> <span class="o">=</span> <span class="n">species</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Create initial population</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">initial_size</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Individual</span><span class="p">(</span><span class="n">mass</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Current population size (alive individuals only).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span> <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">alive</span><span class="p">)</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">total_biomass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Total mass of all living individuals.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">ind</span><span class="o">.</span><span class="n">mass</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span> <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">alive</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">simulate_year</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">food_available</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate one year: growth, aging, reproduction.&quot;&quot;&quot;</span>
        <span class="c1"># Age all individuals</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">alive</span><span class="p">:</span>
                <span class="n">ind</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="n">food_available</span><span class="p">)</span>
                <span class="n">ind</span><span class="o">.</span><span class="n">age_one_year</span><span class="p">()</span>
        
        <span class="c1"># Reproduction: each adult has 10% chance</span>
        <span class="n">new_individuals</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">alive</span> <span class="ow">and</span> <span class="n">ind</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span>
                <span class="n">new_individuals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Individual</span><span class="p">(</span><span class="n">mass</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_individuals</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> individuals, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">total_biomass</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">kg total&quot;</span>

<span class="c1"># Run a simple simulation</span>
<span class="n">pop</span> <span class="o">=</span> <span class="n">Population</span><span class="p">(</span><span class="s2">&quot;Oryctolagus cuniculus&quot;</span><span class="p">,</span> <span class="n">initial_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Year 0: </span><span class="si">{</span><span class="n">pop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="n">pop</span><span class="o">.</span><span class="n">simulate_year</span><span class="p">(</span><span class="n">food_available</span><span class="o">=</span><span class="p">(</span><span class="n">year</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span>  <span class="c1"># Food every other year</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Year </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">pop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="advanced-oop-in-python">
<h2>Advanced OOP in Python<a class="headerlink" href="#advanced-oop-in-python" title="Link to this heading">#</a></h2>
<p>This section continues from the basics above and introduces a few powerful Python features that make classes more usable and expressive.</p>
<p>In the previous section we touched on the basics of OOP in python. This should be enough to get you going with programming in an object-oriented manner, however objects in Python can be MUCH more powerful than demonstrated there. Using various bits of magic that are either general properties of OOP, or specific to the Python implementation, we can do a lot!</p>
<section id="dunder-methods">
<h3>“Dunder” methods<a class="headerlink" href="#dunder-methods" title="Link to this heading">#</a></h3>
<section id="making-our-classes-more-usable">
<h4>Making our classes more usable<a class="headerlink" href="#making-our-classes-more-usable" title="Link to this heading">#</a></h4>
<p>Let’s start with the chair class we created in the last session:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">chair</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legs</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">colour</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">legs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">colour</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newcolour</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">newcolour</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_chair</span> <span class="o">=</span> <span class="n">chair</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now usually for an object, if we want to know what is in it, we can print it, like so:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">testlist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">testlist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p>Let’s see what happens if we print our chair instance.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">my_chair</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;__main__.chair object at 0x758b4c2fe150&gt;
</pre></div>
</div>
</div>
</div>
<p>Obviously this is not very useful. It tells us that the object is of the class <code class="docutils literal notranslate"><span class="pre">chair</span></code> and the memory address at which it decides. Wouldn’t it be nice if instead it told us about the chair itself? We can do that by implementing another special method called <code class="docutils literal notranslate"><span class="pre">__str__()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">chair</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legs</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">colour</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">legs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">colour</span>
        
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;A </span><span class="si">{}</span><span class="s2"> legged, </span><span class="si">{}</span><span class="s2">m tall, </span><span class="si">{}</span><span class="s2"> chair.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colour</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newcolour</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">newcolour</span>
        
<span class="n">my_chair</span> <span class="o">=</span> <span class="n">chair</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s see what happens if we print this new chair:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">my_chair</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A 6 legged, 0.8m tall, black chair.
</pre></div>
</div>
</div>
</div>
<p>Cool! Now whenever we want to get an idea of what chairs we have, we can just print them!</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> method <em>must</em> return a string, though it can do other things in the function before it returns that.</p>
<p>These magical methods that do strange things are known as <strong>dunder</strong> methods, as they start and end with a double underscore. There are many of these <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#special-method-names">(see here for more)</a> and they do a wide variety of different things.</p>
</section>
<section id="repr">
<h4><code class="docutils literal notranslate"><span class="pre">__repr__()</span></code><a class="headerlink" href="#repr" title="Link to this heading">#</a></h4>
<p>Sometimes it can be nice to have a way to get the code which can be used to generate an object. This is where the <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> dunder method comes in. It allows you to create a representation of an object in its current state. Let’s implement <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> for our chair class</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">chair</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">legs</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">colour</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legs</span> <span class="o">=</span> <span class="n">legs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">colour</span>
        
    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;chair(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, &quot;</span><span class="si">{}</span><span class="s1">&quot;)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colour</span><span class="p">)</span>
        
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;A </span><span class="si">{}</span><span class="s2"> legged, </span><span class="si">{}</span><span class="s2">m tall, </span><span class="si">{}</span><span class="s2"> chair.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colour</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newcolour</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colour</span> <span class="o">=</span> <span class="n">newcolour</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s reinstantiate <code class="docutils literal notranslate"><span class="pre">my_chair</span></code> with the new class definition</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_chair</span> <span class="o">=</span> <span class="n">chair</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">repr()</span></code> function to check the representation of this object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">repr</span><span class="p">(</span><span class="n">my_chair</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;chair(6, 0.8, &quot;black&quot;)&#39;
</pre></div>
</div>
</div>
</div>
<p>As you can see it returns the code that we wrote to generate the object in the first place!</p>
<p>Something else important to note is that if you have not implemented the <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> dunder method, when you call <code class="docutils literal notranslate"><span class="pre">print()</span></code> on an object it will fall back on <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> if that exists, and then only as a last resort will it print the unhelpful <code class="docutils literal notranslate"><span class="pre">&lt;__main__.chair</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f70903cc550&gt;</span></code> that we got earlier.</p>
<p>It is generally good practice if you’re going to be using a class for any serious work, to implement these methods, especially <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code>.</p>
</section>
<section id="making-an-iterable">
<h4>Making an iterable<a class="headerlink" href="#making-an-iterable" title="Link to this heading">#</a></h4>
<p>One major use of classes is as a container for data. You can think of these as structures that hold data and metadata in a standard form, kind of like a list or dictionary, but with <strong>MOrE FUNCTIONALITY</strong>.</p>
<p>Let’s make a simple class to hold a stack of chairs:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">chairstack</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chairs</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;lab&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chairs</span> <span class="o">=</span> <span class="n">chairs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;chairstack(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chairs</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Chair stack containing </span><span class="si">{}</span><span class="s2"> chair/s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chairs</span><span class="p">))</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="n">chair_stack</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="c1"># Make 10 green chairs with random numbers of legs and random heights</span>
    <span class="n">chair_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chair</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">))</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">chairstack</span><span class="p">(</span><span class="n">chair_stack</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Chair stack containing 10 chair/s.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">repr</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;chairstack([chair(3, 1.769448546869566, &quot;green&quot;), chair(8, 0.5064408569591434, &quot;green&quot;), chair(2, 1.7235454887699924, &quot;green&quot;), chair(4, 0.49848348480071314, &quot;green&quot;), chair(9, 0.2203557317580227, &quot;green&quot;), chair(1, 1.370163669679231, &quot;green&quot;), chair(9, 1.2030246812940097, &quot;green&quot;), chair(10, 0.3260746760576183, &quot;green&quot;), chair(3, 1.1635929734812964, &quot;green&quot;), chair(6, 0.48796006249702173, &quot;green&quot;)])&#39;
</pre></div>
</div>
</div>
</div>
<p>Now, what if we wanted to get height of the second chair in the stack? We can retrieve it as a property of the stack as follows…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">chairs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5064408569591434
</pre></div>
</div>
</div>
</div>
<p>However that feels a bit ungainly. When we are talking about the stack, really we want to be able to just say <code class="docutils literal notranslate"><span class="pre">stack[1].height</span></code> as when we’re indexing the stack we know we just want to be getting an individual chair, i.e. when we say <code class="docutils literal notranslate"><span class="pre">stack[1]</span></code> we will always want the entry at <code class="docutils literal notranslate"><span class="pre">stack.chairs[1]</span></code>.</p>
<p>Luckily there are extra methods that we can write which will allow this behaviour.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">chairstack</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chairs</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s2">&quot;lab&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chairs</span> <span class="o">=</span> <span class="n">chairs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;chairstack(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chairs</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Chair stack containing </span><span class="si">{}</span><span class="s2"> chair/s.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chairs</span><span class="p">))</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chairs</span><span class="p">)</span>
        
    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chair_num</span><span class="p">):</span>
          <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">chairs</span><span class="p">[</span><span class="n">chair_num</span><span class="p">]</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">chairstack</span><span class="p">(</span><span class="n">chair_stack</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stack</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A 3 legged, 1.769448546869566m tall, green chair.
A 8 legged, 0.5064408569591434m tall, green chair.
A 2 legged, 1.7235454887699924m tall, green chair.
A 4 legged, 0.49848348480071314m tall, green chair.
A 9 legged, 0.2203557317580227m tall, green chair.
A 1 legged, 1.370163669679231m tall, green chair.
A 9 legged, 1.2030246812940097m tall, green chair.
A 10 legged, 0.3260746760576183m tall, green chair.
A 3 legged, 1.1635929734812964m tall, green chair.
A 6 legged, 0.48796006249702173m tall, green chair.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">stack</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A 8 legged, 0.5064408569591434m tall, green chair.
</pre></div>
</div>
</div>
</div>
<p>Here, the <code class="docutils literal notranslate"><span class="pre">__len__()</span></code> method is called when you request <code class="docutils literal notranslate"><span class="pre">len(object)</span></code>, something you could either do just from the terminal, or this is also used internally when defining the parameters of an iteration.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> method allows you to return an entry at a selected offset.</p>
<p>There are also another two functions [<code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> and <code class="docutils literal notranslate"><span class="pre">__next__()</span></code>] that allow more efficient iteration of these sorts of classes, however they don’t improve usability as such, just make things quicker.</p>
<p>This pattern is common in scientific computing: the object stores model parameters, and calling it runs the model.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">PopulationModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simple exponential growth model.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">K</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">r</span>  <span class="c1"># growth rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">K</span> <span class="o">=</span> <span class="n">K</span>  <span class="c1"># carrying capacity</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate population at time t.&quot;&quot;&quot;</span>
        <span class="c1"># Logistic growth: dN/dt = r*N*(1 - N/K)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">K</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">K</span> <span class="o">-</span> <span class="n">N</span><span class="p">)</span> <span class="o">/</span> <span class="n">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">2.71828</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">*</span> <span class="n">t</span><span class="p">)))</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Logistic model (r=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="si">}</span><span class="s2">, K=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">K</span><span class="si">}</span><span class="s2">)&quot;</span>

<span class="c1"># Create a model instance</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">PopulationModel</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">K</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="c1"># Now use it like a function!</span>
<span class="n">N0</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;t=</span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s2">: N=</span><span class="si">{</span><span class="n">model</span><span class="p">(</span><span class="n">N0</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="making-objects-callable-with-call">
<h3>Making objects callable with <code class="docutils literal notranslate"><span class="pre">__call__</span></code><a class="headerlink" href="#making-objects-callable-with-call" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method makes an instance behave like a function. This is useful for objects that represent operations or models.</p>
<section id="there-s-so-much-more">
<h4>There’s so much more<a class="headerlink" href="#there-s-so-much-more" title="Link to this heading">#</a></h4>
<p>Dunder methods are widely varied, and defining them allows us to customise nearly every aspect of how a class operates in the wider context of a Python program. It is definitely worthwhile at least becoming familiar with the fact that they exist, because you can end up making your life a whole chunk easier.</p>
</section>
</section>
<section id="subclassing">
<h3>Subclassing<a class="headerlink" href="#subclassing" title="Link to this heading">#</a></h3>
<p>Subclassing is powerful, but consider whether <strong>composition</strong> (above) or <strong>simple inheritance</strong> is actually needed. Deep inheritance hierarchies can become difficult to maintain. A good rule: “inherit when you truly have an <em>is-a</em> relationship.”</p>
<p>Here’s a better biological example than furniture:</p>
<p>Another major feature of classes in Python is the idea of subclassing.</p>
<p>A chair (as we have been talking about the whole time so far) is a type of seat. There are also other types of seat such as stools and beanbags.</p>
<p>Wouldn’t it be nice to have a different class for each of these types of seat? However it’s also a lot of work to implement 3 classes with almost exactly the same code inside.</p>
<p>We can solve this using the joint ideas of subclassing and inheritance. A subclass <em>inherits</em> the methods and attributes of the parent class (also called the superclass).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Organism</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for all organisms.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">species</span> <span class="o">=</span> <span class="n">species</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mass_increase</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">+=</span> <span class="n">mass_increase</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> grew to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mass</span><span class="si">}</span><span class="s2">kg&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mass</span><span class="si">}</span><span class="s2">kg, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="si">}</span><span class="s2">y)&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Plant</span><span class="p">(</span><span class="n">Organism</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">photosynthesize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">light_hours</span><span class="p">):</span>
        <span class="n">biomass_gain</span> <span class="o">=</span> <span class="n">light_hours</span> <span class="o">*</span> <span class="mf">0.01</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="n">biomass_gain</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Photosynthesized </span><span class="si">{</span><span class="n">biomass_gain</span><span class="si">}</span><span class="s2">kg biomass&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Animal</span><span class="p">(</span><span class="n">Organism</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">diet</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diet</span> <span class="o">=</span> <span class="n">diet</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">eat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">food_mass</span><span class="p">):</span>
        <span class="c1"># Animals only convert part of food to biomass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="n">food_mass</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> ate </span><span class="si">{</span><span class="n">food_mass</span><span class="si">}</span><span class="s2">kg of food&quot;</span>

<span class="n">oak</span> <span class="o">=</span> <span class="n">Plant</span><span class="p">(</span><span class="s2">&quot;Quercus robur&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">oak</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">oak</span><span class="o">.</span><span class="n">photosynthesize</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>

<span class="n">rabbit</span> <span class="o">=</span> <span class="n">Animal</span><span class="p">(</span><span class="s2">&quot;Oryctolagus cuniculus&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;herbivore&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rabbit</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rabbit</span><span class="o">.</span><span class="n">eat</span><span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Both</span> <span class="err">`</span><span class="n">Plant</span><span class="err">`</span> <span class="ow">and</span> <span class="err">`</span><span class="n">Animal</span><span class="err">`</span> <span class="n">inherit</span> <span class="kn">from</span><span class="w"> </span><span class="err">`</span><span class="n">Organism</span><span class="err">`</span><span class="p">,</span> <span class="n">so</span> <span class="n">they</span> <span class="n">share</span> <span class="n">the</span> <span class="err">`</span><span class="n">grow</span><span class="p">()</span><span class="err">`</span> <span class="n">method</span><span class="p">,</span> <span class="n">but</span> <span class="n">each</span> <span class="n">has</span> <span class="n">unique</span> <span class="n">methods</span> <span class="n">appropriate</span> <span class="n">to</span> <span class="n">their</span> <span class="n">biology</span><span class="o">.</span> <span class="n">The</span> <span class="err">`</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span><span class="err">`</span> <span class="n">call</span> <span class="n">ensures</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">class</span><span class="s1">&#39;s initialization runs first.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A 3 legged, 0.9m tall, Black seat.
</pre></div>
</div>
</div>
</div>
</section>
<section id="method-overriding-example">
<h3>Method overriding example<a class="headerlink" href="#method-overriding-example" title="Link to this heading">#</a></h3>
<p>Sometimes you want to completely replace a parent’s method. Here’s an example where we override <code class="docutils literal notranslate"><span class="pre">grow()</span></code> for a specific type of organism:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Lichen</span><span class="p">(</span><span class="n">Organism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Slow-growing organism with limited growth.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">species</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_mass</span> <span class="o">=</span> <span class="n">mass</span> <span class="o">*</span> <span class="mi">2</span>  <span class="c1"># Can only double in size</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mass_increase</span><span class="p">):</span>
        <span class="c1"># Override parent method with growth limits</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">+</span> <span class="n">mass_increase</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_mass</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_mass</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> reached maximum size&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">+=</span> <span class="n">mass_increase</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> grew to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mass</span><span class="si">}</span><span class="s2">kg&quot;</span>

<span class="n">lichen</span> <span class="o">=</span> <span class="n">Lichen</span><span class="p">(</span><span class="s2">&quot;Xanthoria parietina&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lichen</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="mf">0.005</span><span class="p">))</span>  <span class="c1"># Normal growth</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lichen</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span>     <span class="c1"># Hits maximum</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A 0 legged, 0.4m tall, Blue seat.
</pre></div>
</div>
</div>
</div>
<p>Notice how <code class="docutils literal notranslate"><span class="pre">Lichen</span></code> keeps the signature of <code class="docutils literal notranslate"><span class="pre">grow(mass_increase)</span></code> but changes the behavior. This is <strong>method overriding</strong>. The subclass method completely replaces the parent’s version.</p>
<p><em>Note: <strong>Overloading</strong> means having multiple methods with the same name but different arguments. Python doesn’t support true overloading, but you can achieve similar results with default arguments or <code class="docutils literal notranslate"><span class="pre">*args</span></code>/<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>.</em></p>
</section>
<section id="custom-exceptions">
<h3>Custom exceptions<a class="headerlink" href="#custom-exceptions" title="Link to this heading">#</a></h3>
</section>
<section id="when-to-create-custom-exceptions">
<h3>When to create custom exceptions<a class="headerlink" href="#when-to-create-custom-exceptions" title="Link to this heading">#</a></h3>
<p>Custom exceptions are most useful when:</p>
<ul class="simple">
<li><p>You’re building a package or library others will use</p></li>
<li><p>You have domain-specific errors (e.g., <code class="docutils literal notranslate"><span class="pre">NegativeBiomassError</span></code>, <code class="docutils literal notranslate"><span class="pre">InvalidSequenceError</span></code>)</p></li>
<li><p>You want to catch specific errors without catching all <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>s or <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>s</p></li>
</ul>
<p>You can also create exception hierarchies:</p>
<p>We use exceptions a lot when coding in python. They tell us when we screwed something up, and we can use them to control the path of execution.</p>
<p>The exceptions defined in Python as standard are very useful, but they don’t necessarily cover exactly what you need. Sometimes you might want an exception that only handles certain elements. This can be done using the wonderful power of <strong>subclassing</strong>!</p>
<p>Lets take a trivial function that makes animals say things.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">EcologyError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base exception for ecology package.&quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">InvalidPopulationSizeError</span><span class="p">(</span><span class="n">EcologyError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when population size is negative or non-numeric.&quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CarryingCapacityExceededError</span><span class="p">(</span><span class="n">EcologyError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when population exceeds carrying capacity.&quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update_population</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">K</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">N</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidPopulationSizeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Population cannot be negative: </span><span class="si">{</span><span class="n">N</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">N</span> <span class="o">&gt;</span> <span class="n">K</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">CarryingCapacityExceededError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;N=</span><span class="si">{</span><span class="n">N</span><span class="si">}</span><span class="s2"> exceeds K=</span><span class="si">{</span><span class="n">K</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">N</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">N</span><span class="o">/</span><span class="n">K</span><span class="p">))</span>

<span class="c1"># Now you can catch all ecology errors, or specific ones</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">update_population</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="k">except</span> <span class="n">InvalidPopulationSizeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Caught specific error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">EcologyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Caught any ecology error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">say_woof</span><span class="p">(</span><span class="n">subject</span><span class="p">):</span>
    <span class="n">subject</span> <span class="o">=</span> <span class="n">subject</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">subject</span> <span class="o">==</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Only dogs can go &#39;woof&#39;, </span><span class="si">{}</span><span class="s2">s cannot go &#39;woof&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subject</span><span class="p">))</span>

<span class="n">say_woof</span><span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">48</span><span class="p">],</span> <span class="n">line</span> <span class="mi">8</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>         <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Only dogs can go &#39;woof&#39;, </span><span class="si">{}</span><span class="s2">s cannot go &#39;woof&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subject</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="n">say_woof</span><span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">)</span>

<span class="nn">Cell In[48], line 6,</span> in <span class="ni">say_woof</span><span class="nt">(subject)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">6</span>     <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Only dogs can go &#39;woof&#39;, </span><span class="si">{}</span><span class="s2">s cannot go &#39;woof&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subject</span><span class="p">))</span>

<span class="ne">AttributeError</span>: Only dogs can go &#39;woof&#39;, cats cannot go &#39;woof&#39;
</pre></div>
</div>
</div>
</div>
<p>This did the job very well, however it is quite broad. Anything that triggers an attribute error looks the same here, so if you try to set the subject to <code class="docutils literal notranslate"><span class="pre">1</span></code> then we will also get an attribute error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">say_woof</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">49</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">say_woof</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="nn">Cell In[48], line 2,</span> in <span class="ni">say_woof</span><span class="nt">(subject)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span><span class="w"> </span><span class="nf">say_woof</span><span class="p">(</span><span class="n">subject</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">subject</span> <span class="o">=</span> <span class="n">subject</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="k">if</span> <span class="n">subject</span> <span class="o">==</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>         <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">)</span>

<span class="ne">AttributeError</span>: &#39;int&#39; object has no attribute &#39;lower&#39;
</pre></div>
</div>
</div>
</div>
<p>We may want to catch when the error is expected, but fail when it is unexpected, and at present we cannot differentiate between one of our own raised errors and an error that is triggered from some other operation failing. This is where a custom exception comes in. Let’s define a new one:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">WoofError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>    <span class="c1"># Hey look, a subclass!!</span>
    <span class="k">pass</span>

<span class="k">def</span><span class="w"> </span><span class="nf">say_woof</span><span class="p">(</span><span class="n">subject</span><span class="p">):</span>
    <span class="n">subject</span> <span class="o">=</span> <span class="n">subject</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">subject</span> <span class="o">==</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">WoofError</span><span class="p">(</span><span class="s2">&quot;Only dogs can go &#39;woof&#39;, </span><span class="si">{0}</span><span class="s2">s cannot go &#39;woof&#39;, they are </span><span class="si">{0}</span><span class="s2">s...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subject</span><span class="p">))</span>

<span class="n">say_woof</span><span class="p">(</span><span class="s2">&quot;chair&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">WoofError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">50</span><span class="p">],</span> <span class="n">line</span> <span class="mi">11</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>         <span class="k">raise</span> <span class="n">WoofError</span><span class="p">(</span><span class="s2">&quot;Only dogs can go &#39;woof&#39;, </span><span class="si">{0}</span><span class="s2">s cannot go &#39;woof&#39;, they are </span><span class="si">{0}</span><span class="s2">s...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subject</span><span class="p">))</span>
<span class="ne">---&gt; </span><span class="mi">11</span> <span class="n">say_woof</span><span class="p">(</span><span class="s2">&quot;chair&quot;</span><span class="p">)</span>

<span class="nn">Cell In[50], line 9,</span> in <span class="ni">say_woof</span><span class="nt">(subject)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">9</span>     <span class="k">raise</span> <span class="n">WoofError</span><span class="p">(</span><span class="s2">&quot;Only dogs can go &#39;woof&#39;, </span><span class="si">{0}</span><span class="s2">s cannot go &#39;woof&#39;, they are </span><span class="si">{0}</span><span class="s2">s...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subject</span><span class="p">))</span>

<span class="ne">WoofError</span>: Only dogs can go &#39;woof&#39;, chairs cannot go &#39;woof&#39;, they are chairs...
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">say_woof</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">51</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">say_woof</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="nn">Cell In[50], line 5,</span> in <span class="ni">say_woof</span><span class="nt">(subject)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="k">def</span><span class="w"> </span><span class="nf">say_woof</span><span class="p">(</span><span class="n">subject</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">5</span>     <span class="n">subject</span> <span class="o">=</span> <span class="n">subject</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="k">if</span> <span class="n">subject</span> <span class="o">==</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>         <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">)</span>

<span class="ne">AttributeError</span>: &#39;int&#39; object has no attribute &#39;lower&#39;
</pre></div>
</div>
</div>
</div>
<p>Now we can catch <code class="docutils literal notranslate"><span class="pre">WoofError</span></code> exceptions without accidentally catching any exceptions that are not WoofErrors.</p>
<p>Your custom exceptions can do whatever you want them to do, and as such are very useful when writing larger scripts and packages.</p>
</section>
<section id="circular-imports">
<h3>5. Circular imports<a class="headerlink" href="#circular-imports" title="Link to this heading">#</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">species.py</span></code> imports from <code class="docutils literal notranslate"><span class="pre">population.py</span></code> and vice versa, you get circular import errors.</p>
<p><strong>Fix</strong>:</p>
<ul class="simple">
<li><p>Restructure: move shared code to a third module</p></li>
<li><p>Import inside functions (not at module level)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code> and type hints as strings</p></li>
</ul>
</section>
<section id="not-calling-super-init-in-subclasses">
<h3>4. Not calling <code class="docutils literal notranslate"><span class="pre">super().__init__()</span></code> in subclasses<a class="headerlink" href="#not-calling-super-init-in-subclasses" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Animal</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alive</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Dog</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">breed</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">breed</span> <span class="o">=</span> <span class="n">breed</span>
        <span class="c1"># Forgot super().__init__(name)!</span>
        <span class="c1"># Now self.name and self.alive don&#39;t exist!</span>
</pre></div>
</div>
<p><strong>Fix</strong>: Always call parent’s <code class="docutils literal notranslate"><span class="pre">__init__</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">breed</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">breed</span> <span class="o">=</span> <span class="n">breed</span>
</pre></div>
</div>
</section>
<section id="mutable-default-arguments">
<h3>3. Mutable default arguments<a class="headerlink" href="#mutable-default-arguments" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Experiment</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="p">[]):</span>  <span class="c1"># DANGER!</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">samples</span> <span class="o">=</span> <span class="n">samples</span>
        
<span class="n">exp1</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">()</span>
<span class="n">exp1</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;sample1&quot;</span><span class="p">)</span>
<span class="n">exp2</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">()</span>  <span class="c1"># Expects empty list, but...</span>
<span class="nb">print</span><span class="p">(</span><span class="n">exp2</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>  <span class="c1"># [&#39;sample1&#39;] - they share the default list!</span>
</pre></div>
</div>
<p><strong>Fix</strong>: Use <code class="docutils literal notranslate"><span class="pre">None</span></code> and create new list inside:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">samples</span> <span class="o">=</span> <span class="n">samples</span> <span class="k">if</span> <span class="n">samples</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</pre></div>
</div>
</section>
<section id="modifying-class-attributes-when-you-meant-instance-attributes">
<h3>2. Modifying class attributes when you meant instance attributes<a class="headerlink" href="#modifying-class-attributes-when-you-meant-instance-attributes" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Population</span><span class="p">:</span>
    <span class="n">individuals</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># CLASS attribute - shared!</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># Oops! All instances share this list!</span>
        
<span class="n">pop1</span> <span class="o">=</span> <span class="n">Population</span><span class="p">(</span><span class="s2">&quot;Site A&quot;</span><span class="p">)</span>
<span class="n">pop2</span> <span class="o">=</span> <span class="n">Population</span><span class="p">(</span><span class="s2">&quot;Site B&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pop1</span><span class="o">.</span><span class="n">individuals</span><span class="p">)</span>  <span class="c1"># [&#39;Site A&#39;, &#39;Site B&#39;] - unexpected!</span>
</pre></div>
</div>
<p><strong>Fix</strong>: Initialize mutable containers in <code class="docutils literal notranslate"><span class="pre">__init__</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">individuals</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Each instance gets its own list</span>
</pre></div>
</div>
</section>
<section id="forgetting-self">
<h3>1. Forgetting <code class="docutils literal notranslate"><span class="pre">self</span></code><a class="headerlink" href="#forgetting-self" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Broken</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">get_double</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="mi">2</span>  <span class="c1"># ERROR! get_double() missing &#39;self&#39; parameter</span>
</pre></div>
</div>
<p><strong>Fix</strong>: Every method needs <code class="docutils literal notranslate"><span class="pre">self</span></code> as first parameter (except <code class="docutils literal notranslate"><span class="pre">&#64;staticmethod</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code>).</p>
</section>
</section>
<section id="common-pitfalls">
<h2>Common Pitfalls<a class="headerlink" href="#common-pitfalls" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Watch out for these common OOP mistakes!</strong></p>
</div>
<p>Dataclasses are perfect for simple data containers. If you need complex behavior, use regular classes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Sample</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Experimental sample with automatic __init__, __repr__, etc.&quot;&quot;&quot;</span>
    <span class="n">sample_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">treatment</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">measurement</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">replicate</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Default value</span>
    
<span class="c1"># All this functionality for free!</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="s2">&quot;control&quot;</span><span class="p">,</span> <span class="mf">23.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="s2">&quot;control&quot;</span><span class="p">,</span> <span class="mf">24.1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>  <span class="c1"># Automatic __repr__</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span><span class="p">)</span>  <span class="c1"># Automatic __eq__</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span><span class="o">.</span><span class="n">sample_id</span><span class="p">)</span>  <span class="c1"># All attributes work as expected</span>
</pre></div>
</div>
</div>
</div>
<section id="modern-python-dataclasses">
<h3>Modern Python: dataclasses<a class="headerlink" href="#modern-python-dataclasses" title="Link to this heading">#</a></h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Python 3.7+ provides <code class="docutils literal notranslate"><span class="pre">&#64;dataclass</span></code> decorator that reduces boilerplate for simple data-holding classes. It automatically generates <code class="docutils literal notranslate"><span class="pre">__init__</span></code>, <code class="docutils literal notranslate"><span class="pre">__repr__</span></code>, <code class="docutils literal notranslate"><span class="pre">__eq__</span></code>, and more.</p>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="python.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Biological Computing in Python</p>
      </div>
    </a>
    <a class="right-next"
       href="r.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Biological Computing in R</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-oop">What is OOP?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#our-first-class">Our first <code class="docutils literal notranslate"><span class="pre">class</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rectangles-and-arguments">Rectangles and arguments</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-1">Challenge 1</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-more-useful-example">A more useful example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#properties-and-automatic-calculation">Properties and automatic calculation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-2">Challenge 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#passing-around-objects">Passing around objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oop-in-biology">OOP in biology</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#class-vs-instance-attributes">Class vs Instance Attributes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-3-optional">Challenge 3 (optional)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-building-complex-objects">Composition: Building complex objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-objects">Comparing objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#practical-example-population-simulation">Practical Example: Population Simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-and-next-steps">Summary and Next Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-oop-in-python">Advanced OOP in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dunder-methods">“Dunder” methods</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#making-our-classes-more-usable">Making our classes more usable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#repr"><code class="docutils literal notranslate"><span class="pre">__repr__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#making-an-iterable">Making an iterable</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#making-objects-callable-with-call">Making objects callable with <code class="docutils literal notranslate"><span class="pre">__call__</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#there-s-so-much-more">There’s so much more</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subclassing">Subclassing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-overriding-example">Method overriding example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-exceptions">Custom exceptions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-create-custom-exceptions">When to create custom exceptions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#circular-imports">5. Circular imports</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#not-calling-super-init-in-subclasses">4. Not calling <code class="docutils literal notranslate"><span class="pre">super().__init__()</span></code> in subclasses</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mutable-default-arguments">3. Mutable default arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modifying-class-attributes-when-you-meant-instance-attributes">2. Modifying class attributes when you meant instance attributes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forgetting-self">1. Forgetting <code class="docutils literal notranslate"><span class="pre">self</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-pitfalls">Common Pitfalls</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modern-python-dataclasses">Modern Python: dataclasses</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By MulQuaBio collective!
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>